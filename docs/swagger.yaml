basePath: /api/v1
definitions:
  dto.AvailabilityResponseDTO:
    properties:
      available_neighborhoods:
        items:
          type: string
        type: array
      bio:
        type: string
      days_available:
        items:
          type: string
        type: array
      department:
        type: string
      end_time:
        type: string
      max_patients_per_day:
        type: integer
      online:
        type: boolean
      price:
        type: number
      qualifications:
        items:
          type: string
        type: array
      services:
        items:
          type: string
        type: array
      specialization:
        type: string
      start_time:
        type: string
    type: object
  dto.CancelReason:
    properties:
      reason:
        type: string
    type: object
  dto.ChangePasswordBothRequestDTO:
    properties:
      new_password:
        type: string
      password:
        type: string
      two_fa:
        type: boolean
    required:
    - password
    type: object
  dto.CodeResponseDTO:
    properties:
      code:
        type: integer
    type: object
  dto.ConversationDTO:
    properties:
      last_message:
        type: string
      last_message_timestamp:
        type: string
      partner_id:
        type: string
      partner_image_id:
        type: string
      partner_name:
        type: string
    type: object
  dto.DashboardAdminDataResponse:
    properties:
      average_nurse_rating:
        type: number
      completed_visits_last_30_days:
        type: integer
      most_common_specialization:
        description: Métricas Estratégicas
        type: string
      new_nurses_last_30_days:
        type: integer
      new_patients_last_30_days:
        type: integer
      number_visits:
        description: Mudei para int64 para consistência
        type: integer
      nurses_ids_pendent_approvations:
        description: Renomeei aqui
        items:
          $ref: '#/definitions/dto.NursesFieldsForDashboardResponse'
        type: array
      nurses_inactive:
        type: integer
      nurses_online:
        description: Métricas de Atividade e Crescimento
        type: integer
      patients_inactive:
        type: integer
      pendent_approvations:
        description: Métricas de Gestão e Alertas
        type: integer
      total_nurses:
        description: Métricas Principais (KPIs)
        type: integer
      total_patients:
        type: integer
      total_revenue_last_30_days:
        type: number
      visits_today:
        description: Mudei para int64 para consistência
        type: integer
    type: object
  dto.DocumentInfoResponse:
    properties:
      download_url:
        description: A URL para baixar o arquivo
        type: string
      image_id:
        type: string
      name:
        description: 'Um nome amigável, ex: "Documento de Licença (COREN)"'
        type: string
      type:
        description: 'Um identificador, ex: "license_document"'
        type: string
    type: object
  dto.EmailAuthRequestDTO:
    properties:
      email:
        type: string
    type: object
  dto.ForgotPasswordRequestDTO:
    properties:
      email:
        type: string
    type: object
  dto.InputCodeDto:
    properties:
      code:
        type: integer
      email:
        type: string
    type: object
  dto.LoginRequestDTO:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  dto.NurseDashboardDataResponseDTO:
    properties:
      availability:
        $ref: '#/definitions/medassist_internal_nurse_dto.AvailabilityDTO'
      online:
        type: boolean
      profile:
        allOf:
        - $ref: '#/definitions/medassist_internal_nurse_dto.NurseProfileResponseDTO'
        description: History      []VisitDto                  `json:"history"`
      stats:
        $ref: '#/definitions/dto.StatsDTO'
      visits:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
    type: object
  dto.NurseTypeResponse:
    properties:
      address:
        type: string
      bio:
        type: string
      coren:
        description: registro profissional
        type: string
      cpf:
        type: string
      department:
        description: setor/hospital onde trabalha
        type: string
      email:
        type: string
      end_time:
        type: string
      first_access:
        type: boolean
      hidden:
        type: boolean
      id:
        type: string
      name:
        type: string
      online:
        type: boolean
      password:
        type: string
      phone:
        type: string
      pix_key:
        type: string
      price:
        type: number
      role:
        type: string
      shift:
        description: manhã, tarde, noite
        type: string
      specialization:
        description: 'área (ex: pediatrics, geriatrics, ER)'
        type: string
      start_time:
        type: string
      verification_seal:
        type: boolean
      years_experience:
        type: integer
    type: object
  dto.NurseUpdateResponseDTO:
    properties:
      created_at:
        type: string
      email:
        type: string
      hidden:
        type: boolean
      id:
        type: string
      name:
        type: string
      role:
        type: string
      updated_at:
        type: string
    type: object
  dto.NurseVisitInfo:
    properties:
      patient:
        $ref: '#/definitions/dto.PatientInfoDto'
      visit:
        $ref: '#/definitions/medassist_internal_nurse_dto.VisitInfoDto'
    type: object
  dto.NurseVisitsListsDto:
    properties:
      completed:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
      confirmed:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
      pending:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
      rejected:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
      visits_today:
        items:
          $ref: '#/definitions/dto.VisitDto'
        type: array
    type: object
  dto.NursesFieldsForDashboardResponse:
    properties:
      id:
        type: string
      name:
        type: string
    type: object
  dto.PatientInfoDto:
    properties:
      cep:
        type: string
      city:
        type: string
      complement:
        type: string
      cpf:
        type: string
      email:
        type: string
      id:
        type: string
      latitude:
        type: number
      longitude:
        type: number
      name:
        type: string
      neighborhood:
        type: string
      number:
        type: string
      phone:
        type: string
      profile_image_id:
        type: string
      street:
        type: string
      uf:
        type: string
    type: object
  dto.PrescriptionList:
    properties:
      prescription_list:
        items:
          type: string
        type: array
    required:
    - prescription_list
    type: object
  dto.RejectDescription:
    properties:
      description:
        type: string
    type: object
  dto.ResetPasswordDTO:
    properties:
      newPassword:
        type: string
      token:
        type: string
    required:
    - newPassword
    - token
    type: object
  dto.StatsDTO:
    properties:
      appointments_today:
        type: integer
      average_rating:
        type: number
      monthly_earnings:
        type: number
      patients_attended:
        type: integer
    type: object
  dto.StripeOnboardingResponseDTO:
    properties:
      url:
        type: string
    type: object
  dto.UserListsResponse:
    properties:
      nurses:
        items:
          $ref: '#/definitions/dto.NurseTypeResponse'
        type: array
      users:
        items:
          $ref: '#/definitions/dto.UserTypeResponse'
        type: array
      visits:
        items:
          $ref: '#/definitions/dto.VisitTypeResponse'
        type: array
    type: object
  dto.UserTypeResponse:
    properties:
      address:
        type: string
      cpf:
        description: PixKey      string `json:"pix_key"`
        type: string
      email:
        type: string
      first_access:
        type: boolean
      hidden:
        type: boolean
      id:
        type: string
      name:
        type: string
      password:
        type: string
      phone:
        type: string
      role:
        type: string
    type: object
  dto.ValidateTokenDTO:
    properties:
      token:
        type: string
    required:
    - token
    type: object
  dto.VisitDto:
    properties:
      created_at:
        type: string
      date:
        type: string
      description:
        type: string
      id:
        type: string
      nurse_name:
        type: string
      patient_id:
        type: string
      patient_image_id:
        type: string
      patient_name:
        type: string
      rating:
        type: integer
      reason:
        type: string
      status:
        type: string
      visit_type:
        type: string
      visit_value:
        type: number
    type: object
  dto.VisitTypeResponse:
    properties:
      cancel_reason:
        type: string
      description:
        type: string
      id:
        type: string
      nurse_id:
        type: string
      nurse_name:
        type: string
      patient_email:
        type: string
      patient_id:
        type: string
      patient_name:
        type: string
      reason:
        type: string
      status:
        type: string
      value:
        type: number
      visit_date:
        type: string
      visit_type:
        type: string
    type: object
  medassist_internal_nurse_dto.AvailabilityDTO:
    properties:
      end_time:
        type: string
      is_available:
        type: boolean
      specialization:
        type: string
      start_time:
        type: string
    type: object
  medassist_internal_nurse_dto.DeleteAccountPasswordDto:
    properties:
      password:
        type: string
    required:
    - password
    type: object
  medassist_internal_nurse_dto.NurseProfileResponseDTO:
    properties:
      bio:
        type: string
      coren:
        type: string
      department:
        type: string
      email:
        type: string
      experience_years:
        type: integer
      name:
        type: string
      phone:
        type: string
    type: object
  medassist_internal_nurse_dto.PatientProfileResponseDTO:
    properties:
      address:
        type: string
      cpf:
        type: string
      created_at:
        type: string
      email:
        type: string
      hidden:
        type: boolean
      id:
        type: string
      name:
        type: string
      password:
        type: string
      phone:
        type: string
      profile_image_id:
        type: string
      rating:
        type: number
      reviews:
        items:
          $ref: '#/definitions/medassist_internal_nurse_dto.Reviews'
        type: array
      role:
        type: string
      temp_code:
        type: integer
      updated_at:
        type: string
      visit_count:
        type: integer
    type: object
  medassist_internal_nurse_dto.ReviewDTO:
    properties:
      comment:
        type: string
      rating:
        type: integer
    type: object
  medassist_internal_nurse_dto.Reviews:
    properties:
      comment:
        type: string
      nurse_name:
        type: string
      rating:
        type: integer
    type: object
  medassist_internal_nurse_dto.VisitInfoDto:
    properties:
      cancel_reason:
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      patient_id:
        type: string
      patient_name:
        type: string
      prescriptions:
        items:
          type: string
        type: array
      reason:
        type: string
      status:
        type: string
      updated_at:
        type: string
      visit_date:
        type: string
      visit_type:
        type: string
      visit_value:
        type: number
    type: object
  model.Message:
    properties:
      id:
        type: string
      message:
        type: string
      read:
        type: boolean
      receiver_id:
        type: string
      sender_id:
        type: string
      timestamp:
        type: string
    type: object
  model.Nurse:
    properties:
      address:
        type: string
      available_neighborhoods:
        items:
          type: string
        type: array
      bio:
        type: string
      cep:
        type: string
      city:
        type: string
      complement:
        type: string
      coren:
        description: registro profissional
        type: string
      cpf:
        type: string
      created_at:
        type: string
      days_available:
        items:
          type: string
        type: array
      department:
        description: setor/hospital onde trabalha
        type: string
      email:
        type: string
      end_time:
        type: string
      first_access:
        type: boolean
      general_register_id:
        type: string
      hidden:
        type: boolean
      id:
        type: string
      latitude:
        type: number
      license_document_id:
        type: string
      longitude:
        type: number
      max_patients_per_day:
        type: integer
      name:
        type: string
      neighborhood:
        type: string
      number:
        type: string
      online:
        type: boolean
      password:
        type: string
      phone:
        type: string
      pix_key:
        type: string
      price:
        type: number
      profile_image_id:
        type: string
      qualifications:
        items:
          type: string
        type: array
      qualifications_id:
        type: string
      rating:
        type: number
      residence_comprovant_id:
        type: string
      role:
        type: string
      services:
        items:
          type: string
        type: array
      shift:
        description: manhã, tarde, noite
        type: string
      specialization:
        description: 'área (ex: pediatrics, geriatrics, ER)'
        type: string
      start_time:
        type: string
      street:
        type: string
      stripe_account_id:
        type: string
      temp_code:
        type: integer
      two_factor:
        type: boolean
      uf:
        type: string
      updated_at:
        type: string
      verification_seal:
        type: boolean
      years_experience:
        type: integer
    required:
    - address
    - city
    - coren
    - cpf
    - email
    - end_time
    - general_register_id
    - license_document_id
    - name
    - neighborhood
    - number
    - online
    - password
    - phone
    - pix_key
    - profile_image_id
    - qualifications_id
    - residence_comprovant_id
    - role
    - start_time
    - street
    - uf
    - verification_seal
    type: object
  model.PaymentIntentRequest:
    properties:
      value:
        type: number
    type: object
  model.PaymentIntentResponse:
    properties:
      client_secret:
        type: string
    type: object
  model.User:
    properties:
      address:
        type: string
      cep:
        type: string
      city:
        type: string
      complement:
        type: string
      cpf:
        type: string
      created_at:
        type: string
      email:
        type: string
      first_access:
        type: boolean
      gatewayCustomerID:
        type: string
      hidden:
        type: boolean
      id:
        type: string
      latitude:
        type: number
      longitude:
        type: number
      name:
        type: string
      neighborhood:
        type: string
      number:
        type: string
      password:
        type: string
      phone:
        type: string
      profile_image_id:
        type: string
      role:
        type: string
      street:
        type: string
      temp_code:
        type: integer
      two_factor:
        type: boolean
      uf:
        type: string
      updated_at:
        type: string
    required:
    - address
    - cep
    - city
    - cpf
    - email
    - name
    - neighborhood
    - number
    - password
    - phone
    - role
    - street
    - uf
    type: object
  utils.AuthUserResponse:
    properties:
      _id:
        type: string
      email:
        type: string
      name:
        type: string
      profile_image_id:
        type: string
      role:
        type: string
      two_factor:
        type: boolean
    type: object
  utils.ErrorResponse:
    properties:
      message:
        example: Descrição do erro
        type: string
      success:
        example: false
        type: boolean
    type: object
  utils.SuccessAvailabilityResponse:
    properties:
      data:
        $ref: '#/definitions/dto.AvailabilityResponseDTO'
      message:
        example: Informações de disponibilidade carregadas com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessConversationsResponse:
    properties:
      data:
        description: Reutilizável para Nurse e Patient
        items:
          $ref: '#/definitions/dto.ConversationDTO'
        type: array
      message:
        example: Lista de conversas retornada com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessDashboardResponse:
    properties:
      data:
        $ref: '#/definitions/dto.DashboardAdminDataResponse'
      message:
        example: Dados de dashboard carregados com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessDocumentsResponse:
    properties:
      data:
        description: Note que é um slice []
        items:
          $ref: '#/definitions/dto.DocumentInfoResponse'
        type: array
      message:
        example: Documentos retornados com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessMessagesResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/model.Message'
        type: array
      message:
        example: Histórico de mensagens retornado com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseDashboardResponse:
    properties:
      data:
        $ref: '#/definitions/dto.NurseDashboardDataResponseDTO'
      message:
        example: Dados de enfermeiro carregados com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseProfileResponse:
    properties:
      data:
        $ref: '#/definitions/medassist_internal_nurse_dto.NurseProfileResponseDTO'
      message:
        example: Perfil completo de enfermeiro(a) listado com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseResponse:
    properties:
      data:
        $ref: '#/definitions/model.Nurse'
      message:
        example: Operação realizada com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseUpdateResponse:
    properties:
      data:
        $ref: '#/definitions/dto.NurseUpdateResponseDTO'
      message:
        example: Usuário atualizado com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseVisitInfoResponse:
    properties:
      data:
        $ref: '#/definitions/dto.NurseVisitInfo'
      message:
        example: Informações de visita listadas com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessNurseVisitsListsResponse:
    properties:
      data:
        $ref: '#/definitions/dto.NurseVisitsListsDto'
      message:
        example: Visitas listadas com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessPatientProfileResponse:
    properties:
      data:
        $ref: '#/definitions/medassist_internal_nurse_dto.PatientProfileResponseDTO'
      message:
        example: Perfil do paciente listado com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessPaymentIntentResponse:
    properties:
      data:
        $ref: '#/definitions/model.PaymentIntentResponse'
      message:
        example: Intenção de pagamento criada com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessResponseNoData:
    properties:
      message:
        example: Operação realizada com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessResponseNurse:
    properties:
      data:
        allOf:
        - $ref: '#/definitions/model.Nurse'
        description: Aponta para a struct real do enfermeiro
      message:
        example: Cadastro de enfermeiro solicitado com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessResponseString:
    properties:
      data:
        example: Mensagem de dados
        type: string
      message:
        example: Operação realizada com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessStripeOnboardingResponse:
    properties:
      data:
        $ref: '#/definitions/dto.StripeOnboardingResponseDTO'
      message:
        example: Link de onboarding criado com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessUserListsResponse:
    properties:
      data:
        $ref: '#/definitions/dto.UserListsResponse'
      message:
        example: Listas de usuários retornadas com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessUserTypeResponse:
    properties:
      data:
        $ref: '#/definitions/dto.UserTypeResponse'
      message:
        example: Usuário atualizado com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessValidateCodeResponse:
    properties:
      data:
        $ref: '#/definitions/utils.ValidateCodeResponse'
      message:
        example: Código validado com sucesso
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.SuccessVisitTypeResponse:
    properties:
      data:
        $ref: '#/definitions/dto.VisitTypeResponse'
      message:
        example: Visita atualizada com sucesso.
        type: string
      success:
        example: true
        type: boolean
    type: object
  utils.ValidateCodeResponse:
    properties:
      token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
      user:
        $ref: '#/definitions/utils.AuthUserResponse'
    type: object
host: localhost:8081
info:
  contact: {}
  title: Vita API doc
  version: "1.0"
paths:
  /admin/approve/{id}:
    patch:
      consumes:
      - application/json
      description: 'Altera o status do enfermeiro para ''verificado'' (verification_seal:
        true). Requer autenticação de Admin.'
      parameters:
      - description: ID do Enfermeiro a ser aprovado
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Enfermeiro aprovado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseString'
        "400":
          description: ID inválido ou erro na aprovação
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Aprova o cadastro de um enfermeiro
      tags:
      - Admin
  /admin/dashboard:
    get:
      consumes:
      - application/json
      description: Retorna as principais métricas e KPIs para a tela de dashboard
        do administrador. Requer autenticação de Admin.
      produces:
      - application/json
      responses:
        "200":
          description: Dados de dashboard carregados com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessDashboardResponse'
        "400":
          description: Erro ao carregar dados
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Dados do Dashboard Administrativo
      tags:
      - Admin
  /admin/documents/{id}:
    get:
      consumes:
      - application/json
      description: Retorna uma lista de documentos (com URLs de download) de um enfermeiro
        específico para aprovação. Requer autenticação de Admin.
      parameters:
      - description: ID do Enfermeiro (Nurse ID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Documentos retornados com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessDocumentsResponse'
        "400":
          description: ID inválido ou erro ao buscar documentos
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Obtém documentos do enfermeiro para análise
      tags:
      - Admin
  /admin/download/{id}:
    get:
      description: Faz o download de um arquivo (como um documento de enfermeiro)
        com base no seu ObjectID do GridFS.
      parameters:
      - description: ID do Arquivo (File ID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: O arquivo para download
          schema:
            type: file
        "400":
          description: ID inválido ou Arquivo não encontrado
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Erro ao enviar o arquivo
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Baixa um arquivo do GridFS
      tags:
      - Admin
  /admin/reject/{id}:
    post:
      consumes:
      - application/json
      description: Envia um email ao enfermeiro com o motivo da rejeição. Requer autenticação
        de Admin.
      parameters:
      - description: ID do Enfermeiro a ser rejeitado
        in: path
        name: id
        required: true
        type: string
      - description: Objeto contendo a descrição/motivo da rejeição
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.RejectDescription'
      produces:
      - application/json
      responses:
        "200":
          description: Enfermeiro rejeitado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseString'
        "400":
          description: ID inválido, corpo da requisição inválido ou erro na rejeição
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Rejeita o cadastro de um enfermeiro
      tags:
      - Admin
  /admin/user/{id}:
    delete:
      consumes:
      - application/json
      description: Permite ao administrador deletar um usuário (Paciente ou Enfermeiro)
        permanentemente. Requer autenticação de Admin.
      parameters:
      - description: ID do Usuário a ser deletado
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Usuário deletado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: ID inválido ou erro ao deletar
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Deleta um usuário (Admin)
      tags:
      - Admin
    patch:
      consumes:
      - application/json
      description: |-
        Permite ao administrador atualizar campos de um usuário (Paciente ou Enfermeiro). Requer autenticação de Admin.
        Campos protegidos (id, created_at, updated_at) não podem ser atualizados.
      parameters:
      - description: ID do Usuário a ser atualizado
        in: path
        name: id
        required: true
        type: string
      - description: 'Campos para atualizar (JSON arbitrário). Ex: {\'
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Usuário atualizado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessUserTypeResponse'
        "400":
          description: JSON inválido, ID não encontrado ou campo protegido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Atualiza um usuário (Admin)
      tags:
      - Admin
  /admin/users:
    get:
      consumes:
      - application/json
      description: Retorna listas completas de usuários, enfermeiros e visitas para
        gerenciamento do admin. Requer autenticação de Admin.
      produces:
      - application/json
      responses:
        "200":
          description: Listas retornadas com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessUserListsResponse'
        "400":
          description: Erro ao buscar listas
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Listas de gerenciamento (Usuários, Enfermeiros, Visitas)
      tags:
      - Admin
  /admin/visit/{id}:
    delete:
      consumes:
      - application/json
      description: Permite ao administrador deletar uma visita permanentemente. Requer
        autenticação de Admin.
      parameters:
      - description: ID da Visita a ser deletada
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Visita deletada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: ID inválido ou erro ao deletar
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Deleta uma visita (Admin)
      tags:
      - Admin
    patch:
      consumes:
      - application/json
      description: |-
        Permite ao administrador atualizar campos de uma visita. Requer autenticação de Admin.
        Campos protegidos (id, created_at, updated_at) não podem ser atualizados.
      parameters:
      - description: ID da Visita a ser atualizada
        in: path
        name: id
        required: true
        type: string
      - description: 'Campos para atualizar (JSON arbitrário). Ex: {\'
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Visita atualizada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessVisitTypeResponse'
        "400":
          description: JSON inválido, ID não encontrado ou campo protegido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Administrador)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Atualiza uma visita (Admin)
      tags:
      - Admin
  /auth/adm:
    post:
      consumes:
      - application/json
      description: Endpoint para configuração inicial. Cria o primeiro usuário administrador
        no banco de dados se ele ainda não existir.
      produces:
      - application/json
      responses:
        "200":
          description: Resposta de sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "500":
          description: Erro interno do servidor
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Cria o primeiro usuário Administrador
      tags:
      - Auth
  /auth/code:
    patch:
      consumes:
      - application/json
      description: Usado para autenticação de dois fatores ou verificação de email.
        Envia um código temporário.
      parameters:
      - description: Email para o qual enviar o código
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.EmailAuthRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Código enviado com sucesso (retorna o código ou status)
          schema:
            $ref: '#/definitions/dto.CodeResponseDTO'
        "400":
          description: Requisição inválida
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Envia código de autenticação por email
      tags:
      - Auth
  /auth/email:
    post:
      consumes:
      - application/json
      description: Inicia o fluxo de "esqueci minha senha" enviando um email com código/token
        para o usuário.
      parameters:
      - description: Email do usuário que esqueceu a senha
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.ForgotPasswordRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Email enviado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: Requisição inválida (e.g., email mal formatado ou não encontrado)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Envia email de recuperação de senha
      tags:
      - Auth
  /auth/logged/password:
    patch:
      consumes:
      - application/json
      description: Permite que um usuário (paciente ou enfermeiro) logado altere sua
        própria senha. Requer autenticação JWT.
      parameters:
      - description: Dados da nova senha
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.ChangePasswordBothRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Senha ou configurações atualizadas com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: Requisição inválida
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Paciente ou Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Altera a senha do usuário logado
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: Autentica um usuário (paciente ou enfermeiro) e retorna um token
        JWT e dados do usuário.
      parameters:
      - description: Credenciais de Login (email e senha)
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Login bem-sucedido
          schema:
            $ref: '#/definitions/utils.SuccessValidateCodeResponse'
        "400":
          description: Requisição inválida ou credenciais incorretas
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Login de Usuário
      tags:
      - Auth
  /auth/nurse:
    post:
      consumes:
      - multipart/form-data
      - multipart/form-data
      description: Cria uma nova solicitação de cadastro de enfermeiro, com dados
        e upload de documentos obrigatórios.
      parameters:
      - description: Nome completo
        in: formData
        name: name
        required: true
        type: string
      - description: Email válido
        in: formData
        name: email
        required: true
        type: string
      - description: Telefone (com DDD)
        in: formData
        name: phone
        required: true
        type: string
      - description: CEP
        in: formData
        name: cep
        required: true
        type: string
      - description: Rua
        in: formData
        name: street
        required: true
        type: string
      - description: Número
        in: formData
        name: number
        required: true
        type: string
      - description: Complemento (Opcional)
        in: formData
        name: complement
        type: string
      - description: Bairro
        in: formData
        name: neighborhood
        required: true
        type: string
      - description: Cidade
        in: formData
        name: city
        required: true
        type: string
      - description: UF
        in: formData
        name: uf
        required: true
        type: string
      - description: CPF
        in: formData
        name: cpf
        required: true
        type: string
      - description: Chave PIX
        in: formData
        name: pix_key
        required: true
        type: string
      - description: Senha
        in: formData
        name: password
        required: true
        type: string
      - description: Registro Coren
        in: formData
        name: coren
        required: true
        type: string
      - description: 'Especialização (ex: Pediatria)'
        in: formData
        name: specialization
        required: true
        type: string
      - description: 'Departamento (ex: Enfermagem)'
        in: formData
        name: department
        required: true
        type: string
      - description: Anos de Experiência (número)
        in: formData
        name: years_experience
        required: true
        type: integer
      - description: Biografia / Descrição breve
        in: formData
        name: bio
        required: true
        type: string
      - description: 'Horário de início (ex: 08:00)'
        in: formData
        name: start_time
        required: true
        type: string
      - description: 'Horário de término (ex: 18:00)'
        in: formData
        name: end_time
        required: true
        type: string
      - description: Documento de Licença (CNH/RG)
        in: formData
        name: license_document
        required: true
        type: file
      - description: Comprovante de Qualificações/Diplomas
        in: formData
        name: qualifications
        required: true
        type: file
      - description: Registro Geral (RG)
        in: formData
        name: general_register
        required: true
        type: file
      - description: Comprovante de Residência
        in: formData
        name: residence_comprovant
        required: true
        type: file
      - description: Imagem de Perfil
        in: formData
        name: profile_image
        required: true
        type: file
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: Cadastro solicitado com sucesso (retorna o objeto Nurse)
          schema:
            $ref: '#/definitions/utils.SuccessResponseNurse'
        "400":
          description: Dados inválidos, arquivos faltando ou formato incorreto
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Registro de Novo Enfermeiro (Nurse)
      tags:
      - Auth
      - Auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: Altera a senha do usuário usando um token de reset (obtido no fluxo
        "esqueci minha senha").
      parameters:
      - description: Token de reset e nova senha
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.ResetPasswordDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Senha alterada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: Dados inválidos (e.g., senha fraca)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Token inválido ou expirado
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Reseta a senha do usuário
      tags:
      - Auth
  /auth/user:
    post:
      consumes:
      - multipart/form-data
      - multipart/form-data
      description: Cria um novo usuário (paciente) no sistema, permitindo o upload
        de uma imagem de perfil.
      parameters:
      - description: Nome completo do usuário
        in: formData
        name: name
        required: true
        type: string
      - description: Email válido do usuário
        in: formData
        name: email
        required: true
        type: string
      - description: Telefone do usuário (com DDD)
        in: formData
        name: phone
        required: true
        type: string
      - description: Bairro
        in: formData
        name: neighborhood
        required: true
        type: string
      - description: Cidade
        in: formData
        name: city
        required: true
        type: string
      - description: Estado (UF)
        in: formData
        name: uf
        required: true
        type: string
      - description: Complemento do endereço (Opcional)
        in: formData
        name: complement
        type: string
      - description: Número do endereço
        in: formData
        name: number
        required: true
        type: string
      - description: Rua/Avenida
        in: formData
        name: street
        required: true
        type: string
      - description: CEP
        in: formData
        name: cep
        required: true
        type: string
      - description: CPF do usuário
        in: formData
        name: cpf
        required: true
        type: string
      - description: Senha (deve seguir as regras de complexidade)
        in: formData
        name: password
        required: true
        type: string
      - description: Imagem de perfil (Opcional)
        in: formData
        name: image_profile
        type: file
      produces:
      - application/json
      - application/json
      responses:
        "200":
          description: Usuário criado com sucesso
          schema:
            $ref: '#/definitions/model.User'
        "400":
          description: Dados inválidos (validação falhou, e-mail/CPF duplicado, erro
            no arquivo)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Registro de Novo Usuário (Paciente)
      tags:
      - Auth
      - Auth
  /auth/validate:
    post:
      consumes:
      - application/json
      description: Valida o código temporário (enviado por email) e retorna um token
        de sessão e dados do usuário.
      parameters:
      - description: Email e código para validação
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.InputCodeDto'
      produces:
      - application/json
      responses:
        "200":
          description: Código validado com sucesso (retorna token e usuário)
          schema:
            $ref: '#/definitions/utils.SuccessValidateCodeResponse'
        "400":
          description: Código inválido (ou outros erros de requisição)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Valida código de autenticação
      tags:
      - Auth
  /auth/validate-token:
    post:
      consumes:
      - application/json
      description: Verifica se um token (enviado por email) é válido e não expirou,
        antes de permitir a troca da senha.
      parameters:
      - description: Token de reset a ser validado
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.ValidateTokenDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Token válido
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: Token é obrigatório
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Token inválido ou expirado
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      summary: Valida um token de reset de senha
      tags:
      - Auth
  /chat/messages/{nurseId}:
    get:
      consumes:
      - application/json
      description: Retorna todas as mensagens entre o usuário logado (seja Paciente
        ou Enfermeiro) e um enfermeiro específico.
      parameters:
      - description: ID do Enfermeiro (com quem a conversa acontece)
        in: path
        name: nurseId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Histórico de mensagens retornado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessMessagesResponse'
        "400":
          description: ID do enfermeiro inválido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Usuário não autenticado
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Erro ao buscar mensagens
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Histórico de mensagens com um enfermeiro
      tags:
      - Chat
  /chat/nurse/conversations:
    get:
      consumes:
      - application/json
      description: Retorna a lista de todas as conversas ativas do enfermeiro logado.
        Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Lista de conversas retornada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessConversationsResponse'
        "401":
          description: Não autenticado ou ID de usuário inválido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Erro ao buscar conversas
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Lista de conversas do Enfermeiro
      tags:
      - Chat
  /chat/patient/conversations:
    get:
      consumes:
      - application/json
      description: Retorna a lista de todas as conversas ativas do paciente logado.
        Requer autenticação de Paciente.
      produces:
      - application/json
      responses:
        "200":
          description: Lista de conversas retornada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessConversationsResponse'
        "401":
          description: Não autenticado ou ID de usuário inválido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Erro ao buscar conversas
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Lista de conversas do Paciente
      tags:
      - Chat
  /nurse/availability:
    get:
      consumes:
      - application/json
      description: Retorna as configurações de disponibilidade (horários, dias, bairros,
        etc.) do enfermeiro logado. Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Informações de disponibilidade carregadas com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessAvailabilityResponse'
        "400":
          description: Erro ao carregar dados
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Informações de disponibilidade do Enfermeiro
      tags:
      - Nurse
  /nurse/dashboard:
    get:
      consumes:
      - application/json
      description: Retorna os dados principais para o dashboard do enfermeiro logado
        (perfil, stats, visitas, etc.). Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Dados de dashboard carregados com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseDashboardResponse'
        "400":
          description: Erro ao carregar dados
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Dashboard do Enfermeiro
      tags:
      - Nurse
  /nurse/dashboard_info:
    get:
      consumes:
      - application/json
      description: Retorna o perfil completo do enfermeiro logado, incluindo reviews,
        dados privados, e estatísticas. Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Perfil completo de enfermeiro(a) listado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseProfileResponse'
        "400":
          description: Erro ao carregar perfil
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Perfil completo do Enfermeiro (para Dashboard)
      tags:
      - Nurse
  /nurse/delete:
    delete:
      consumes:
      - application/json
      description: Deleta permanentemente a conta do enfermeiro logado. Requer senha
        atual para confirmação. Requer autenticação de Enfermeiro.
      parameters:
      - description: Senha atual para confirmar a exclusão
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/medassist_internal_nurse_dto.DeleteAccountPasswordDto'
      produces:
      - application/json
      responses:
        "200":
          description: Usuário deletado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: JSON inválido ou senha incorreta
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Deleta o perfil do Enfermeiro logado
      tags:
      - Nurse
  /nurse/my-profile:
    get:
      consumes:
      - application/json
      description: Retorna o perfil completo do enfermeiro logado (idêntico ao /dashboard_info).
        Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Perfil completo de enfermeiro(a) listado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseProfileResponse'
        "400":
          description: Erro ao carregar perfil
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Meu Perfil de Enfermeiro
      tags:
      - Nurse
  /nurse/offline:
    patch:
      consumes:
      - application/json
      description: Endpoint chamado pelo frontend no logout para garantir que o enfermeiro
        seja marcado como 'offline'. Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Logout realizado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: Erro ao atualizar status
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Fica offline ao fazer logout
      tags:
      - Nurse
  /nurse/online:
    patch:
      consumes:
      - application/json
      description: Ativa ou desativa o status 'online' do enfermeiro logado (toggle).
        Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Serviço ativado com sucesso (retorna o objeto Nurse atualizado)
          schema:
            $ref: '#/definitions/utils.SuccessNurseResponse'
        "400":
          description: Erro ao atualizar status
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Altera o status online do Enfermeiro
      tags:
      - Nurse
  /nurse/patient/{id}:
    get:
      consumes:
      - application/json
      description: Retorna o perfil público de um paciente (usado por enfermeiros).
        Requer autenticação de Enfermeiro ou Paciente.
      parameters:
      - description: ID do Paciente para ver o perfil
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Perfil do paciente listado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessPatientProfileResponse'
        "400":
          description: ID inválido ou erro ao buscar perfil
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Perfil do Paciente
      tags:
      - Nurse
  /nurse/prescription/{id}:
    patch:
      consumes:
      - application/json
      description: Adiciona uma lista de prescrições a uma visita concluída. Requer
        autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita
        in: path
        name: id
        required: true
        type: string
      - description: Lista de prescrições
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.PrescriptionList'
      produces:
      - application/json
      responses:
        "200":
          description: Prescrição adicionada com sucesso (retorna a visita atualizada)
          schema:
            $ref: '#/definitions/utils.SuccessNurseVisitInfoResponse'
        "400":
          description: ID inválido, JSON inválido ou erro
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Adiciona prescrição a uma visita
      tags:
      - Nurse
  /nurse/reject-visit/{id}:
    patch:
      consumes:
      - application/json
      description: Permite ao enfermeiro rejeitar uma visita que estava 'PENDING'.
        Requer autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita a ser rejeitada
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Visita rejeitada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: ID inválido ou erro
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Rejeita uma visita pendente
      tags:
      - Nurse
  /nurse/review/{id}:
    post:
      consumes:
      - application/json
      description: Permite ao enfermeiro avaliar um paciente (com nota e comentário)
        após uma visita. Requer autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita (para associar o review)
        in: path
        name: id
        required: true
        type: string
      - description: Dados de avaliação (Nota e Comentário)
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/medassist_internal_nurse_dto.ReviewDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Review adicionada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: JSON inválido ou erro
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Adiciona review para um Paciente
      tags:
      - Nurse
  /nurse/service-confirmation/{id}:
    patch:
      consumes:
      - application/json
      description: Enfermeiro envia um código (fornecido pelo paciente) para confirmar
        que a visita foi concluída. Requer autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita a ser confirmada
        in: path
        name: id
        required: true
        type: string
      - description: 'Código de confirmação. Ex: {\'
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Serviço completado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseNoData'
        "400":
          description: JSON inválido, código obrigatório ou código incorreto
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Confirma a realização de um serviço (Visita)
      tags:
      - Nurse
  /nurse/stripe-onboarding:
    post:
      consumes:
      - application/json
      description: Gera um link único para o enfermeiro logado completar seu cadastro
        no Stripe. Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Link de onboarding criado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessStripeOnboardingResponse'
        "400":
          description: Erro ao criar link
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Cria link de onboarding do Stripe
      tags:
      - Nurse
  /nurse/update:
    patch:
      consumes:
      - application/json
      description: |-
        Permite ao enfermeiro logado atualizar seu próprio perfil. Requer autenticação de Enfermeiro.
        Campos protegidos (id, created_at, updated_at, password) não podem ser atualizados.
      parameters:
      - description: 'Campos para atualizar (JSON arbitrário). Ex: {\'
        in: body
        name: payload
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Usuário atualizado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseUpdateResponse'
        "400":
          description: JSON inválido ou campo protegido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Token inválido
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Erro interno ao atualizar
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Atualiza o perfil do Enfermeiro logado
      tags:
      - Nurse
  /nurse/visit-info/{id}:
    get:
      consumes:
      - application/json
      description: Retorna detalhes de uma visita específica e do paciente associado
        a ela. Requer autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Informações de visita listadas com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseVisitInfoResponse'
        "400":
          description: ID inválido ou erro ao buscar visita
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Informações detalhadas da Visita (Enfermeiro)
      tags:
      - Nurse
  /nurse/visit/{id}:
    patch:
      consumes:
      - application/json
      description: Permite ao enfermeiro confirmar uma visita PENDENTE/REJEITADA,
        ou cancelar uma visita CONFIRMADA (com motivo). Requer autenticação de Enfermeiro.
      parameters:
      - description: ID da Visita a ser modificada
        in: path
        name: id
        required: true
        type: string
      - description: Motivo do cancelamento. Obrigatório apenas ao cancelar uma visita
          'CONFIRMED'. Pode ser um JSON vazio {} para confirmar.
        in: body
        name: payload
        schema:
          $ref: '#/definitions/dto.CancelReason'
      produces:
      - application/json
      responses:
        "200":
          description: Status da visita alterado com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessResponseString'
        "400":
          description: ID inválido, JSON inválido ou erro na lógica de status
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Confirma ou cancela uma visita (Enfermeiro)
      tags:
      - Nurse
  /nurse/visits:
    get:
      consumes:
      - application/json
      description: Retorna todas as visitas (pendentes, confirmadas, concluídas, etc.)
        associadas ao enfermeiro logado. Requer autenticação de Enfermeiro.
      produces:
      - application/json
      responses:
        "200":
          description: Visitas listadas com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessNurseVisitsListsResponse'
        "400":
          description: Erro ao buscar visitas
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Enfermeiro)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Lista de visitas do Enfermeiro
      tags:
      - Nurse
  /payment/create-intent:
    post:
      consumes:
      - application/json
      description: 'Gera um ''client_secret'' do Stripe para o paciente logado poder
        realizar um pagamento (ex: adicionar fundos à carteira). Requer autenticação
        de Paciente.'
      parameters:
      - description: Valor do pagamento a ser criado
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/model.PaymentIntentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Intenção de pagamento criada com sucesso
          schema:
            $ref: '#/definitions/utils.SuccessPaymentIntentResponse'
        "400":
          description: Requisição inválida
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "401":
          description: Não autorizado (Token JWT inválido ou ausente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "403":
          description: Proibido (Usuário não é Paciente)
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
        "500":
          description: Não foi possível criar a intenção de pagamento
          schema:
            $ref: '#/definitions/utils.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Cria uma Intenção de Pagamento (Stripe)
      tags:
      - Payment
securityDefinitions:
  ApiKeyAuth:
    description: '"Para autorizar, insira seu token JWT precedido de ''Bearer ''.
      Exemplo: Bearer <seu-token-aqui>"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
